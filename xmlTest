
local str = "<this> <is> <xml> </xml> </is> </this>"
print("HI!")

function getBlock(xmlString, start)
    if xmlString == nil then
        return nil
    end
    return string.find(xmlString, '<[^>]*>', start)
end

function getName(xmlBlock)
    if xmlBlock == nil then
        return nil
    end
    start, finish = string.find(xmlBlock, '<(%a*)')
    return string.sub(xmlBlock, 2, finish)
end

function getChildren(xmlStr)
    children = {}
    s, f = getBlock(xmlStr, 0)
    blockName = getName(xmlstr, string.sub(xmlStr, s, f))

    depth=0
    curName = nil
    while depth ~= 0 or curName ~= blockName do
        curName = getName(xmlstr, string.sub(xmlStr, getBlock(xmlStr, f)))

        depth++
    end

    block = string.find()
end

print(getBlock(str, 0))
print(getName("<this val='jkdslfj'>"))

return{
    getBlock=getblock,
    getName=getName,
    getChildren=getChildren
}
